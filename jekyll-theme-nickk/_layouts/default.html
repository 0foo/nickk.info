<!doctype html>
<html lang="en">
  <head>{% include header.html %}</head>
  <body>
  <script>
    const isMobile = () =>
      window.matchMedia("(max-width: 768px)").matches ||
      window.matchMedia("(pointer: coarse)").matches;

    const prefersReducedMotion =
      window.matchMedia("(prefers-reduced-motion: reduce)").matches;

    // Only load when needed
    if (!isMobile() && !prefersReducedMotion) {
      // Load Pixi (optional; overlay will auto-load if missing)
      const pixi = document.createElement('script');
      pixi.src = "https://unpkg.com/pixi.js@7.2.4/dist/pixi.min.js";
      pixi.defer = true;
      document.head.appendChild(pixi);

      // Load the overlay after Pixi (still fine if Pixi hasnâ€™t finished; overlay auto-loads it)
      const bird = document.createElement('script');
      bird.src = "{{ '/assets/js/pixi-bird-overlay.js' | relative_url }}";
      bird.defer = true;
      bird.onload = () => {
        // init when DOM is ready
        if (document.readyState === "loading") {
          document.addEventListener("DOMContentLoaded", () => PixiBirdOverlay.init());
        } else {
          PixiBirdOverlay.init();
        }
      };
      document.head.appendChild(bird);
    }
   </script>


    {% include navbar.html %}
    <div id="content-wrapper">
      {{ content }}
    </div>
    <footer></footer>
  </body>
</html>


